{"version":3,"sources":["webpack:///./templates/countryCard.hbs","webpack:///./js/notifications.js","webpack:///./js/get-refs.js","webpack:///./js/fetchCountries.js","webpack:///./index.js","webpack:///./templates/countriesList.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","stack1","helper","alias1","escapeExpression","alias2","nullContext","alias3","hooks","helperMissing","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","lambda","program","noop","onTooManyError","error","text","type","delay","onSuccess","searchResult","success","length","onNotFoundError","getrefs","body","document","querySelector","input","spinner","output","getElementById","notification","refs","getRefs","fetchCountriesList","query","fetch","BASE_URL","then","response","status","Error","json","catch","notice","finally","classList","add","furtherSearchQuery","onListClick","event","target","textContent","API","renderCountryCard","removeEventListener","countryData","innerHTML","countryCardTpl","value","addEventListener","debounce","preventDefault","remove","searchQuery","trim","console","warn","listData","countriesListTpl","log"],"mappings":"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","file":"main.203af197d6012d7eef72.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.escapeExpression, alias2=depth0 != null ? depth0 : (container.nullContext || {}), alias3=container.hooks.helperMissing, alias4=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"country-card\\\">\\n\t<div class=\\\"wrapper\\\">\\n\t\t<div class=\\\"left column\\\">\\n\t\t\t<h2 class=\\\"country-title\\\">\"\n    + alias1(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</h2>\\n\t\t\t<ul class=\\\"country-card__list\\\">\\n\t\t\t\t<li class=\\\"country-card__list-item\\\"><strong>Capital:</strong>\\n\t\t\t\t\t\"\n    + alias1(((helper = (helper = lookupProperty(helpers,\"capital\") || (depth0 != null ? lookupProperty(depth0,\"capital\") : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"capital\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":5},\"end\":{\"line\":8,\"column\":16}}}) : helper)))\n    + \"</li>\\n\t\t\t\t<li class=\\\"country-card__list-item\\\"><strong>Population:</strong>\\n\t\t\t\t\t\"\n    + alias1(((helper = (helper = lookupProperty(helpers,\"population\") || (depth0 != null ? lookupProperty(depth0,\"population\") : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"population\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":5},\"end\":{\"line\":10,\"column\":19}}}) : helper)))\n    + \"</li>\\n\t\t\t\t<li class=\\\"country-card__list-item\\\">\\n\t\t\t\t\t<strong>Languages:</strong>\\n\t\t\t\t\t<ul>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias2,(depth0 != null ? lookupProperty(depth0,\"languages\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":6},\"end\":{\"line\":16,\"column\":15}}})) != null ? stack1 : \"\")\n    + \"\t\t\t\t\t</ul>\\n\t\t\t\t</li>\\n\t\t\t</ul>\\n\t\t</div>\\n\t\t<div class=\\\"right column\\\">\\n\t\t\t<img src=\\\"\"\n    + alias1(((helper = (helper = lookupProperty(helpers,\"flag\") || (depth0 != null ? lookupProperty(depth0,\"flag\") : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"flag\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":22,\"column\":13},\"end\":{\"line\":22,\"column\":21}}}) : helper)))\n    + \"\\\" class=\\\"country-flag\\\" />\\n\t\t</div>\\n\t</div>\\n</div>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\t\t\t\t\t\t<li class=\\\"language-item\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":26,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","import { error, success } from '@pnotify/core';\nimport '@pnotify/core/dist/BrightTheme.css';\nimport '@pnotify/core/dist/PNotify.css';\n\nfunction onNotFoundError() {\n  error({\n    text: 'There is no such country. Please try another search!',\n    delay: 4000,\n  });\n}\n\nfunction onTooManyError() {\n  error({\n    text: 'Too many items found. Please enter a more specific query!',\n    type: 'error',\n    delay: 4000,\n  });\n}\n\nfunction onSuccess(searchResult) {\n  success({\n    text: `Your search found ${searchResult.length} countries. Click on any item in the list to see the country card`,\n    delay: 4000,\n  });\n}\n\nexport default { onTooManyError, onSuccess, onNotFoundError };\n","export default function getrefs() {\n  return {\n    body: document.querySelector('body'),\n    input: document.querySelector('#searchQuery'),\n    spinner: document.querySelector('.icon-container'),\n    output: document.getElementById('container'),\n    notification: document.querySelector('.notification'),\n  };\n}\n","import notice from './notifications';\nimport getRefs from './get-refs';\n\nconst refs = getRefs();\n\nconst BASE_URL = 'https://restcountries.eu/rest/v2';\n\nfunction fetchCountriesList(query) {\n  return fetch(`${BASE_URL}/name/${query}`)\n    .then(response => {\n      if (response.status === 404) {\n        throw new Error();\n      }\n      return response.json();\n    })\n    .catch(() => {\n      notice.onNotFoundError();\n    })\n    .finally(() => {\n      refs.spinner.classList.add('is-hidden');\n    });\n}\n\nexport default { fetchCountriesList };\n","import './css/common.css';\nimport countriesListTpl from './templates/countriesList.hbs';\nimport countryCardTpl from './templates/countryCard.hbs';\nimport API from './js/fetchCountries';\nimport { debounce } from 'lodash';\nimport notice from './js/notifications';\nimport getRefs from './js/get-refs';\n\nconst refs = getRefs();\n\nlet furtherSearchQuery = '';\n\nrefs.input.addEventListener('input', debounce(onSearch, 500));\n\nfunction onSearch(event) {\n  event.preventDefault();\n  refs.spinner.classList.remove('is-hidden');\n  refs.output.innerHTML = '';\n  const searchQuery = event.target.value.trim();\n\n  if (searchQuery === '') {\n    refs.spinner.classList.add('is-hidden');\n    return;\n  }\n\n  API.fetchCountriesList(searchQuery).then(data => {\n    // console.log(data);\n    if (!data) return;\n    if (data.length > 10) {\n      notice.onTooManyError();\n      console.warn('more than 10 items');\n      return;\n    }\n\n    if (data.length > 1) {\n      renderCountriesList(data);\n      notice.onSuccess(data);\n      refs.output.addEventListener('click', onListClick);\n    }\n\n    if (data.length === 1) {\n      renderCountryCard(data);\n    }\n    if (data.length === 0) {\n      console.log(data);\n      return;\n    }\n  });\n}\n\nfunction onListClick(event) {\n  furtherSearchQuery = event.target.textContent;\n  API.fetchCountriesList(furtherSearchQuery).then(renderCountryCard);\n  refs.output.removeEventListener('click', onListClick);\n}\n\nfunction renderCountriesList(listData) {\n  refs.output.innerHTML = countriesListTpl(listData);\n}\n\nfunction renderCountryCard(countryData) {\n  refs.output.innerHTML = countryCardTpl(countryData);\n  refs.input.value = '';\n  refs.output.removeEventListener('click', onListClick);\n}\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\t\t<li class=\\\"countryList__item\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"countriesList\\\">\\n\t<ul id=\\\"countriesList-js\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":2},\"end\":{\"line\":5,\"column\":11}}})) != null ? stack1 : \"\")\n    + \"\t</ul>\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}