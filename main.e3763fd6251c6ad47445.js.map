{"version":3,"sources":["webpack:///./templates/countryCard.hbs","webpack:///./js/notifications.js","webpack:///./js/get-refs.js","webpack:///./js/fetchCountries.js","webpack:///./index.js","webpack:///./templates/countriesList.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","stack1","helper","alias1","escapeExpression","alias2","nullContext","alias3","hooks","helperMissing","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","lambda","program","noop","onTooManyError","error","text","type","delay","onSuccess","searchResult","success","length","onNotFoundError","getrefs","body","document","querySelector","input","spinner","output","getElementById","notification","refs","getRefs","BASE_URL","query","fetch","response","json","countryData","classList","add","status","Error","fetchCountryData","furtherSearchQuery","event","preventDefault","remove","innerHTML","searchQuery","target","value","trim","API","notice","console","warn","renderCountriesList","addEventListener","onListClick","renderCountryCard","log","textContent","removeEventListener","listData","countriesListTpl","countryCardTpl","debounce"],"mappings":"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","file":"main.e3763fd6251c6ad47445.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=container.escapeExpression, alias2=depth0 != null ? depth0 : (container.nullContext || {}), alias3=container.hooks.helperMissing, alias4=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"country-card\\\">\\n\t<div class=\\\"wrapper\\\">\\n\t\t<div class=\\\"left column\\\">\\n\t\t\t<h2 class=\\\"country-title\\\">\"\n    + alias1(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</h2>\\n\t\t\t<ul class=\\\"country-card__list\\\">\\n\t\t\t\t<li class=\\\"country-card__list-item\\\"><strong>Capital:</strong>\\n\t\t\t\t\t\"\n    + alias1(((helper = (helper = lookupProperty(helpers,\"capital\") || (depth0 != null ? lookupProperty(depth0,\"capital\") : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"capital\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":5},\"end\":{\"line\":8,\"column\":16}}}) : helper)))\n    + \"</li>\\n\t\t\t\t<li class=\\\"country-card__list-item\\\"><strong>Population:</strong>\\n\t\t\t\t\t\"\n    + alias1(((helper = (helper = lookupProperty(helpers,\"population\") || (depth0 != null ? lookupProperty(depth0,\"population\") : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"population\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":5},\"end\":{\"line\":10,\"column\":19}}}) : helper)))\n    + \"</li>\\n\t\t\t\t<li class=\\\"country-card__list-item\\\">\\n\t\t\t\t\t<strong>Languages:</strong>\\n\t\t\t\t\t<ul>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias2,(depth0 != null ? lookupProperty(depth0,\"languages\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":6},\"end\":{\"line\":16,\"column\":15}}})) != null ? stack1 : \"\")\n    + \"\t\t\t\t\t</ul>\\n\t\t\t\t</li>\\n\t\t\t</ul>\\n\t\t</div>\\n\t\t<div class=\\\"right column\\\">\\n\t\t\t<img src=\\\"\"\n    + alias1(((helper = (helper = lookupProperty(helpers,\"flag\") || (depth0 != null ? lookupProperty(depth0,\"flag\") : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"flag\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":22,\"column\":13},\"end\":{\"line\":22,\"column\":21}}}) : helper)))\n    + \"\\\" class=\\\"country-flag\\\" />\\n\t\t</div>\\n\t</div>\\n</div>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\t\t\t\t\t\t<li class=\\\"language-item\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":26,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","import { error, success } from '@pnotify/core';\nimport '@pnotify/core/dist/BrightTheme.css';\nimport '@pnotify/core/dist/PNotify.css';\n\nfunction onNotFoundError() {\n  error({\n    text: 'There is no such country. Please try another search!',\n    delay: 4000,\n  });\n}\n\nfunction onTooManyError() {\n  error({\n    text: 'Too many items found. Please enter a more specific query!',\n    type: 'error',\n    delay: 4000,\n  });\n}\n\nfunction onSuccess(searchResult) {\n  success({\n    text: `Your search found ${searchResult.length} countries. Click on any item in the list to see the country card`,\n    delay: 4000,\n  });\n}\n\nexport default { onTooManyError, onSuccess, onNotFoundError };\n","export default function getrefs() {\n  return {\n    body: document.querySelector('body'),\n    input: document.querySelector('#searchQuery'),\n    spinner: document.querySelector('.icon-container'),\n    output: document.getElementById('container'),\n    notification: document.querySelector('.notification'),\n  };\n}\n","import notice from './notifications';\nimport getRefs from './get-refs';\n\nconst refs = getRefs();\n\nconst BASE_URL = 'https://restcountries.eu/rest/v2';\n\nasync function fetchCountryData(query) {\n  const response = await fetch(`${BASE_URL}/name/${query}`);\n  const countryData = await response.json();\n  refs.spinner.classList.add('is-hidden');\n  if (response.status === 404) {\n    throw new Error();\n  }\n  return countryData;\n}\n\nexport default { fetchCountryData };\n","import './css/common.css';\nimport countriesListTpl from './templates/countriesList.hbs';\nimport countryCardTpl from './templates/countryCard.hbs';\nimport API from './js/fetchCountries';\nimport { debounce } from 'lodash';\nimport notice from './js/notifications';\nimport getRefs from './js/get-refs';\n\nconst refs = getRefs();\n\nlet furtherSearchQuery = '';\n\nrefs.input.addEventListener('input', debounce(onSearch, 500));\n\nasync function onSearch(event) {\n  try {\n    event.preventDefault();\n    refs.spinner.classList.remove('is-hidden');\n    refs.output.innerHTML = '';\n    const searchQuery = event.target.value.trim();\n\n    if (searchQuery === '') {\n      refs.spinner.classList.add('is-hidden');\n      return;\n    }\n\n    const countryData = await API.fetchCountryData(searchQuery);\n    if (countryData.length > 10) {\n      await notice.onTooManyError();\n      await console.warn('more than 10 items');\n    } else if (countryData.length < 10 && countryData.length > 1) {\n      await renderCountriesList(countryData);\n      await notice.onSuccess(countryData);\n      refs.output.addEventListener('click', onListClick);\n    } else if (countryData.length === 1) {\n      await renderCountryCard(countryData);\n    }\n  } catch (error) {\n    console.log(error);\n    notice.onNotFoundError();\n  }\n}\n\nasync function onListClick(event) {\n  furtherSearchQuery = event.target.textContent;\n  renderCountryCard(await API.fetchCountryData(furtherSearchQuery));\n  refs.output.removeEventListener('click', onListClick);\n}\n\nfunction renderCountriesList(listData) {\n  refs.output.innerHTML = countriesListTpl(listData);\n}\n\nfunction renderCountryCard(countryData) {\n  refs.output.innerHTML = countryCardTpl(countryData);\n  refs.output.removeEventListener('click', onListClick);\n}\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\t\t<li class=\\\"countryList__item\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"countriesList\\\">\\n\t<ul id=\\\"countriesList-js\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":2},\"end\":{\"line\":5,\"column\":11}}})) != null ? stack1 : \"\")\n    + \"\t</ul>\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}